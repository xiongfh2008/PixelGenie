# 安全配置说明

## 🔒 API 密钥安全

本项目已实现**后端代理架构**，API 密钥不再暴露在前端代码中。

### 安全架构

```
前端 (浏览器) → 后端服务器 (Node.js) → Google Gemini API
                ↑
            API 密钥存储在这里（安全）
```

### 配置步骤

1. **后端服务器配置**（必需）
   - API 密钥存储在 `server/.env` 文件中
   - 文件内容：`API_KEY=your_api_key_here`
   - 此文件**不会**被提交到 Git（已在 .gitignore 中）

2. **启动服务**
   ```bash
   # 启动后端服务器（端口 3001）
   npm run dev:server
   
   # 启动前端开发服务器（端口 5173）
   npm run dev
   
   # 或者同时启动前后端
   npm run dev:all
   ```

3. **环境变量**
   - 前端：无需配置 API 密钥
   - 后端：在 `server/.env` 中配置 `API_KEY`

### 安全优势

✅ **API 密钥不暴露**：密钥只存在于后端服务器，不会被打包到前端代码中  
✅ **防止滥用**：用户无法直接从浏览器获取 API 密钥  
✅ **访问控制**：可以在后端添加身份验证、速率限制等安全措施  
✅ **日志记录**：可以在后端记录所有 API 调用，便于监控和审计  

### 注意事项

⚠️ **重要**：确保 `server/.env` 文件已添加到 `.gitignore`，不要将 API 密钥提交到版本控制系统！

⚠️ **生产环境**：部署时请使用环境变量或密钥管理服务（如 AWS Secrets Manager、Azure Key Vault 等）

